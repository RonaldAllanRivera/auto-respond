{% extends "base.html" %}

{% block content %}
<div class="space-y-6">
  <div class="flex items-center justify-between">
    <h1 class="text-2xl font-bold text-slate-900">Your Lessons</h1>
  </div>

  {% if lessons %}
    <div class="space-y-3">
      {% for l in lessons %}
        <a href="{% url 'lesson_detail' l.id %}" class="block rounded-lg border border-slate-200 bg-white px-5 py-4 shadow-sm transition hover:shadow hover:border-blue-300 no-underline">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="font-medium text-slate-900">{{ l.title }}</h2>
              {% if l.meeting_id %}
                <span class="text-xs text-slate-400">{{ l.meeting_id }}</span>
              {% endif %}
            </div>
            <div class="flex items-center gap-3">
              <span class="text-xs text-slate-500">{{ l.transcript_chunks.count }} chunks</span>
              <span class="text-xs text-slate-500">{{ l.qas.count }} Q&amp;A</span>
              <span class="text-xs text-slate-400">{{ l.created_at|date:"M d, Y Â· H:i" }}</span>
            </div>
          </div>
        </a>
      {% endfor %}
    </div>
  {% else %}
    <div class="rounded-lg border border-dashed border-slate-300 bg-white px-6 py-12 text-center">
      <svg class="mx-auto h-10 w-10 text-slate-300" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
      </svg>
      <h3 class="mt-3 text-sm font-medium text-slate-900">No lessons yet</h3>
      <p class="mt-1 text-sm text-slate-500">Lessons will appear here once the desktop app captures screenshots from Google Meet.</p>
    </div>
  {% endif %}
</div>
{% endblock %}
